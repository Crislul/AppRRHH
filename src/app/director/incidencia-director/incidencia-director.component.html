<title>Incidencia {{incidencia?.id}}</title>

<body>
    <div class="form-container" id="incidenciaPDF">
        <div>

            <div>
                <h2>Incidencia {{incidencia?.id}}</h2>
                <div class="logo-container">
                    <img src="/images/logoutrng.png" width="120px">
                    <img src="/images/Logo.jpg" width="180px" style="border-radius: 10px;">
                  </div>            
                </div>

      
            <h3>Estatus RR-HH: 
                <span class="estatus1" *ngIf="incidencia?.estatusAdmin === 0">En espera</span>
                <span class="estatus2" *ngIf="incidencia?.estatusAdmin === 1">Aceptado</span>
                <span class="estatus3" *ngIf="incidencia?.estatusAdmin === 2">Rechazado</span>
              </h3>

              <h3>Estatus direcci칩n de carrera: 
                <span class="estatus1" *ngIf="incidencia?.estatusDir === 0">En espera</span>
                <span class="estatus2" *ngIf="incidencia?.estatusDir === 1">Aceptado</span>
                <span class="estatus3" *ngIf="incidencia?.estatusDir === 2">Rechazado</span>
              </h3>
        </div>
        <form id="incidenciaForm">

            <label>Nombre del Trabajador</label>
            <input type="text" [value]="
            incidencia?.usuarioNombre + ' ' + 
            incidencia?.usuarioApellidoP + ' ' + 
            incidencia?.usuarioApellidoM" disabled>
            
            <label>Adscripci칩n de trabajo</label>
            <input type="text" [value]="incidencia?.areaNombre" disabled>
            <label>Categori치</label>
            <input type="text" [value]="incidencia?.categoriaNombre" disabled>
            <p> </p>
                <label>Fecha de movimiento</label>
            <p> </p>
            <div style="display: flex; gap: 10px;">
                <div style="flex: 1; padding: 10px;"> 
                    <label>Del:</label>
                    <input type="date" [value]="incidencia?.fechaInicio" disabled>
                </div>
                <div style="flex: 1; padding: 10px;">
                    <label>Al:</label>
                    <input type="date" [value]="incidencia?.fechaFin" disabled>
                </div>
            </div>
            <p> </p>
            <label>Motivo / Se autoriza a:</label>
            <input type="text" [value]="incidencia?.motivoNombre" disabled>
            <Label> Descripci칩n</Label>
            <input type="text" [value]="incidencia?.descripcion" disabled>
            <label>Fecha de Generacion de incidencia</label>
            <input class="inputT" type="text" [value]="incidencia?.fecha" disabled>

            <p> </p>
            <div style="display: flex; gap: 10px;"> 
                <div style="flex: 1; padding: 10px;" class="oculto-para-pdf"> 
                    <button type="button"  (click)="autorizarIncidencia() "  [disabled]="incidencia?.estatusDir === 1">
                      <i class="fas fa-check-circle"></i> Autorizar
                    </button>
                  </div>
                  <div style="flex: 1; padding: 10px;" class="oculto-para-pdf">
                    <button type="button" class="buttonC"  (click)="rechazarIncidencia()" [disabled]="incidencia?.estatusDir === 2">
                      <i class="fas fa-times-circle"></i> Rechazar
                    </button>
                  </div>
            </div>
            <div style="display: flex; gap: 10px;">
                <div style="flex: 1; padding: 10px;" class="oculto-para-pdf"> 
                    <button type="button" (click)="visualizarArchivo()" [disabled]="!incidencia?.nombreArchivo">
                        <i class="fas fa-file-pdf"></i> Visualizar receta
                      </button>
                      
                </div>
                <div style="flex: 1; padding: 10px;" class="oculto-para-pdf">
                    <div>
                        <button (click)="descargarPDF($event)"> <i class="fa fa-download"></i> Descargar PDF</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</body>