<title>Incidencia {{incidencia?.id}}</title>

<body>
    <div class="form-container">
        <div>
            <h2>Incidencia #{{incidencia?.id}}</h2>
            <h3>Estatus: 
                <span class="estatus1" *ngIf="incidencia?.estatus === 0">En espera</span>
                <span class="estatus2" *ngIf="incidencia?.estatus === 1">Aceptado</span>
                <span class="estatus3" *ngIf="incidencia?.estatus === 2">Rechazado</span>
              </h3>
        </div>
        <form id="incidenciaForm">

            <label>Nombre del Trabajador</label>
            <input type="text" [value]="
            incidencia?.usuarioNombre + ' ' + 
            incidencia?.usuarioApellidoP + ' ' + 
            incidencia?.usuarioApellidoM" disabled>
            
            <label>Área de trabajo</label>
            <input type="text" [value]="incidencia?.areaNombre" disabled>
            <label>Categoriá</label>
            <input type="text" [value]="incidencia?.categoriaNombre" disabled>
            <p> </p>
                <label>Fecha de Movimiento</label>
            <p> </p>
            <div style="display: flex; gap: 10px;">
                <div style="flex: 1; padding: 10px;"> 
                    <label>Del:</label>
                    <input type="date" [value]="incidencia?.fechaInicio" disabled>
                </div>
                <div style="flex: 1; padding: 10px;">
                    <label>Al:</label>
                    <input type="date" [value]="incidencia?.fechaFin" disabled>
                </div>
            </div>
            <p> </p>
            <label>Motivo / Se autoriza a:</label>
            <input type="text" [value]="incidencia?.motivoNombre" disabled>
            <Label> Descripción</Label>
            <input type="text" [value]="incidencia?.descripcion" disabled>
            <label>Fecha de Generacion de incidencia</label>
            <input class="inputT" type="text" [value]="incidencia?.fecha" disabled>

            <p> </p>
            <div style="display: flex; gap: 10px;">
                <div style="flex: 1; padding: 10px;"> 
                    <button type="button" (click)="autorizarIncidencia()" [disabled]="incidencia?.estatus === 1">
                        <i class="fas fa-check-circle"></i> Autorizar
                      </button>
                </div>
                <div style="flex: 1; padding: 10px;">
                    <button type="button" class="buttonC" (click)="rechazarIncidencia()" [disabled]="incidencia?.estatus === 2">
                        <i class="fas fa-times-circle"></i> Rechazar
                      </button>
                </div>
            </div>
            <div style="display: flex; gap: 10px;">
                <div style="flex: 1; padding: 10px;"> 
                    <button type="button" (click)="visualizarArchivo()" [disabled]="!incidencia?.nombreArchivo">
                        <i class="fas fa-file-pdf"></i> Visualizar Receta
                      </button>
                      
                </div>
                <div style="flex: 1; padding: 10px;">
                    
                </div>
            </div>
        </form>
    </div>
</body>